/*
 * Author: Damian Schwyrz <mail@damianschwyrz.de>
 * URL: https://www.damianschwyrz.de
 * Copyright (c) 2018.
 */

$(function () {
    $('#content-modal').on('show.bs.modal', function (event) {
        var modal = $(this);
        var button = $(event.relatedTarget);

        $.ajax({
            url: button.data('href'),
            type: 'POST',
            data: {field: button.data('field')},
            success: function (result) {
                modal.find('.modal-title').html(button.data("title"));
                modal.find('.modal-body').html(result.value);
            },
            error: function (result) {
                console.log(result);
            }
        });
    });

    $('#content-modal').on('hide.bs.modal', function () {
        var modal = $(this);
        modal.find('.modal-title').html('<i class="fa fa-spin fa-spinner"></i>');
        modal.find('.modal-body').html('<i class="fa fa-spin fa-spinner"></i>');
    });
});
